<% object.all_user_properties.select(&:pattern).each do |p| -%>
def <%= p.name.underscore -%>_pattern(name, params):
    if name is None:
        return

    regex = r<%= lines(build_url(regex_url(p.pattern))) -%>

    if not re.match(regex, name):
        name = <%= build_url(p.pattern) -%>.format(**params)

    return name
<% end -%>
